<link rel="stylesheet" href="/css/editUserForm.css">
<script src="/js/editUserForm.js" defer></script>

<div class="edit-user-form-container">
    <h3>Edit / Delete <%= role.charAt(0).toUpperCase() + role.slice(1) %></h3>

    <!-- Search Bar -->
    <form id="searchUserForm" data-role="<%= role %>">
        <input type="text" name="keyword" placeholder="Enter Aadhar or Phone number" required />
        <button type="submit">Search</button>
    </form>

    <!-- Edit / Delete Form (Initially Hidden) -->
    <form id="editUserForm">
        <div class="form-grid">
            <input type="hidden" name="id" id="id">

            <div><label>First Name</label><input type="text" name="firstname" readonly /></div>
            <div><label>Last Name</label><input type="text" name="lastname" readonly /></div>
            <div><label>Gender</label><input type="text" name="gender" readonly /></div>
            <div><label>Birthdate</label><input type="text" name="birthdate" readonly /></div>
            <div><label>Age</label><input type="number" name="age" readonly /></div>
            <div><label>Phone</label><input type="text" name="phone" readonly /></div>
            <div><label>Aadhar Number</label><input type="text" name="aadhar_number" readonly /></div>
            <div><label>Email</label><input type="email" name="email" readonly /></div>
            <div><label>City</label><input type="text" name="city" readonly /></div>
            <div><label>State</label><input type="text" name="state" readonly /></div>
            <div><label>Pincode</label><input type="text" name="pincode" readonly /></div>
            <div><label>Address</label><textarea name="address" rows="2" readonly></textarea></div>
            <div><label>Role</label><input type="text" name="role" readonly /></div>

            <% if (role === 'worker') { %>
            <div><label>Skillset</label><input type="text" name="skillset" readonly /></div>
            <div><label>Experience</label><input type="text" name="experience" readonly /></div>
            <div><label>Wages</label><input type="text" name="wages" readonly /></div>
            <div><label>Certificate</label><br /><a id="certLink" href="#" target="_blank">View</a></div>
            <div><label>Photo</label><br /><img id="photoPreview" src="#" width="80" /></div>
            <% } %>
        </div>

        <div class="form-actions">
            <button type="button" id="editToggleBtn">Edit</button>
            <button type="submit" id="updateBtn" style="display: none;">Update</button>
            <button type="button" id="deleteBtn">Delete</button>
        </div>
    </form>
</div>
